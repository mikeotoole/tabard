%table
  %thead
    %tr
      %th.check
      %th Event
      %th Start
      %th
      %th End
      %th
      %th.actions
  %tbody
    - events.each do |event|
      %tr
        - if current_user.invited? event
          %td.check
            = check_box_tag "ids[#{event.id}]", true, false, :id => "event_id_#{event.id}"
            %label{ :for => "event_id_#{event.id}" }
        - else
          %td
        %td
          = link_to shorten_words(event.name, 21), event
          - if event.supported_game
            %rt= event.supported_game.smart_name
        %td
          %time= event.start_time.strftime("%A - %B %d, %Y")
        %td
          %time= event.start_time.strftime("%l:%M %p")
        %td
          %time= event.end_time.strftime("%A - %B %d, %Y")
        %td
          %time= event.end_time.strftime("%l:%M %p")
        %td.actions
          %div
            - if (can? :update, event)
              = link_to 'Edit', edit_event_path(event), :meta => 'Edit event', :class => 'edit'
            - if (can? :destroy, event)
              = link_to 'Delete', event, :confirm => 'Are you sure?', :method => :delete, :meta => 'Delete event', :class => 'delete'
  %tfoot
    %tr
      %td{ :colspan => 7 }
        .select.status
          %ul
            - Invite::VALID_STATUSES.each do |status|
              %li
                %input{ id: "batch_status_#{status.downcase}", type: 'radio', name: 'status', value: status }
                %label{ for: "batch_status_#{status.downcase}" }= status
        %button{ type: 'submit' } Update Selected
        - if can? :create, Event
          = link_to 'Create New', new_event_path, :class => 'button'