- title 'Search'
- content_for :header do
  = javascript_include_tag 'search'

#body
  %h1 Find Communities & Players

  #searchbox
    = form_tag search_url(subdomain: false), method: 'get' do
      %p
        = text_field_tag :term, params[:term], id: 'search', data: {url: search_url}
        %button{ type: 'submit' } Search

  %h2 Search Results
  - if @results.any?
    %ol
      - @results.each do |result|
        - case result.class.to_s
        - when 'Community'
          = render 'li_community', community: result
        - when 'UserProfile'
          = render 'li_user_profile', user_profile: result
    = paginate @results
  - else
    %p We did not find any players or communities that matched your request.