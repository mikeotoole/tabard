= form_for wow_character do |f|
  -if wow_character.errors.any?
    #error_explanation
      %h2= "#{pluralize(wow_character.errors.count, "error")} prohibited this wow_character from being saved:"
      %ul
        - wow_character.errors.full_messages.each do |msg|
          %li= msg
  =f.hidden_field :avatar_cache
  .field
    = f.label :faction
    = f.select :faction, Wow::VALID_FACTIONS
  .field
    = f.label :server
    = f.select :server_name, Wow.servers  
  .field
    = f.label :name
    = f.text_field :name
  .field
    = f.label :class
    = f.select :char_class, WowCharacter::VALID_CLASSES
  .field
    = f.label :race
    = f.select :race, WowCharacter.races("Horde", "Paladin") # TODO Doug, This needs to be updated dynamically using what is selected in the faction and char_class fields. -MO
  .field
    = f.label :level
    = f.number_field :level
  .field
    = f.label :about
    = f.text_area :about
  - if not wow_character.default # Can only edit a character to the default and not make it the default
    .field
      = f.label "Make Default For Game"
      = f.check_box :default
  - if wow_character.default
    Character is default for this game
  .avatar
    = image_tag(wow_character.avatar_url) if wow_character.avatar_url
    .field
      = f.file_field :avatar
    .field
      =f.label :remote_avatar_url, "or image URL"
      = f.text_field :remote_avatar_url
  .actions
    = f.submit 'Save'