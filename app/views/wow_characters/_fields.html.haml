=f.hidden_field :avatar_cache
%fieldset
  %ol
    = f.input :faction, :collection => Wow.all_factions
    = f.input :server_name, :label => 'Server', :collection => Wow.all_servers
    = f.input :name
    = f.input :char_class, :label => 'Class', :collection => WowCharacter.all_classes
    = f.input :race, :collection => WowCharacter.races("Alliance", "Death Knight") # TODO Doug, This needs to be updated dynamically using what is selected in the faction and char_class fields. -MO
    = f.input :level
    = f.input :about, :as => :text
    - if not wow_character.default # Can only edit a character to the default and not make it the default
      = f.input :default, :label => "Make Default For Game", :as => :boolean
    - else
      Character is default for this game
    .avatar
      = image_tag(wow_character.avatar_url) if wow_character.avatar_url and wow_character.persisted?
      = f.input :avatar
      = f.input :remote_avatar_url, :label => "or image URL"