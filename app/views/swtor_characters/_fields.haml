= f.input :name, input_html: { maxlength: SwtorCharacter::MAX_NAME_LENGTH }
= f.input :server_name, as: :radio_buttons, label: 'Server', required: true, collection: Swtor.server_names, wrapper_html: { class: 'select with-label' }, input_html: { name: 'server_name' }
= f.input :advanced_class, as: :radio_buttons, label: 'Class', collection: SwtorCharacter.all_advanced_classes, wrapper_html: { class: 'select with-label', affects: 'species' }
= render partial: 'shared/affected_dropdown', locals: { f: f, affected_by: 'advanced_class', affected_by_value: swtor_character.advanced_class, label: 'Species', field: 'species', field_value: swtor_character.species, collection: SwtorCharacter.species_class_collection }
= f.input :level, as: :string, input_html: { maxlength: 2 }, wrapper_html: { class: 'short' }
= f.input :gender, as: :radio_buttons, required: true, collection: SwtorCharacter::VALID_GENDERS
= f.input :about, as: :text, label: 'Optional Description', input_html: { rows: 5 }
%li.avatar{ class: f.object.errors.any? ? 'with-errors' : '' }
  - if !swtor_character.persisted? or !swtor_character.avatar_url.to_s or f.object.errors.any?
    = image_tag 'application/avatar@240.png', width: 240, height: 240
  - else
    = image_tag swtor_character.avatar_url(:large), width: 240, height: 240
  = f.input :remove_avatar, as: :boolean, label: "Remove avatar", wrapper: false unless swtor_character[:avatar].blank?
  %br
  = f.input :avatar, wrapper: false, hint: 'Maxium file size of 2mb. GIF, JPG, PNG.'
  = f.input :remote_avatar_url, label: "or image URL", wrapper: false
