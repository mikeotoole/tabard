<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Class: Community</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./app/models/community_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="app/models/community.rb">app/models/community.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">ActiveRecord::Base</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-acceptable_labels">::acceptable_labels</a></li>
          
          <li><a href="#method-c-convert_to_subdomain">::convert_to_subdomain</a></li>
          
          <li><a href="#method-i-admin">#admin</a></li>
          
          <li><a href="#method-i-all_users">#all_users</a></li>
          
          <li><a href="#method-i-assign_admin_role">#assign_admin_role</a></li>
          
          <li><a href="#method-i-check_user_create_permissions">#check_user_create_permissions</a></li>
          
          <li><a href="#method-i-check_user_delete_permissions">#check_user_delete_permissions</a></li>
          
          <li><a href="#method-i-check_user_show_permissions">#check_user_show_permissions</a></li>
          
          <li><a href="#method-i-check_user_update_permissions">#check_user_update_permissions</a></li>
          
          <li><a href="#method-i-display_name">#display_name</a></li>
          
          <li><a href="#method-i-get_characters_for_game">#get_characters_for_game</a></li>
          
          <li><a href="#method-i-leader_profile">#leader_profile</a></li>
          
          <li><a href="#method-i-recent_comments">#recent_comments</a></li>
          
          <li><a href="#method-i-recent_discussion_spaces">#recent_discussion_spaces</a></li>
          
          <li><a href="#method-i-recent_discussions">#recent_discussions</a></li>
          
          <li><a href="#method-i-recent_members">#recent_members</a></li>
          
          <li><a href="#method-i-recent_page_spaces">#recent_page_spaces</a></li>
          
          <li><a href="#method-i-recent_pages">#recent_pages</a></li>
          
          <li><a href="#method-i-setup_admin_role">#setup_admin_role</a></li>
          
          <li><a href="#method-i-setup_applicant_role">#setup_applicant_role</a></li>
          
          <li><a href="#method-i-setup_application_form">#setup_application_form</a></li>
          
          <li><a href="#method-i-setup_member_role">#setup_member_role</a></li>
          
          <li><a href="#method-i-update_subdomain">#update_subdomain</a></li>
          
          <li><a href="#method-i-upgrade_applicant_to_member">#upgrade_applicant_to_member</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./Subdomains.html">Subdomains</a></li>
        
          <li><a href="./Subdomains/CommentsController.html">Subdomains::CommentsController</a></li>
        
          <li><a href="./Subdomains/CommunityAnnouncementsController.html">Subdomains::CommunityAnnouncementsController</a></li>
        
          <li><a href="./Subdomains/DiscussionSpacesController.html">Subdomains::DiscussionSpacesController</a></li>
        
          <li><a href="./Subdomains/DiscussionsController.html">Subdomains::DiscussionsController</a></li>
        
          <li><a href="./Subdomains/Management.html">Subdomains::Management</a></li>
        
          <li><a href="./Subdomains/Management/DiscussionSpacesController.html">Subdomains::Management::DiscussionSpacesController</a></li>
        
          <li><a href="./Subdomains/Management/PageSpacesController.html">Subdomains::Management::PageSpacesController</a></li>
        
          <li><a href="./Subdomains/Management/PagesController.html">Subdomains::Management::PagesController</a></li>
        
          <li><a href="./Subdomains/Management/PermissionsController.html">Subdomains::Management::PermissionsController</a></li>
        
          <li><a href="./Subdomains/Management/RegistrationApplicationsController.html">Subdomains::Management::RegistrationApplicationsController</a></li>
        
          <li><a href="./Subdomains/Management/RolesController.html">Subdomains::Management::RolesController</a></li>
        
          <li><a href="./Subdomains/Management/SiteFormsController.html">Subdomains::Management::SiteFormsController</a></li>
        
          <li><a href="./Subdomains/Management/UsersController.html">Subdomains::Management::UsersController</a></li>
        
          <li><a href="./Subdomains/ManagementController.html">Subdomains::ManagementController</a></li>
        
          <li><a href="./Subdomains/PageSpacesController.html">Subdomains::PageSpacesController</a></li>
        
          <li><a href="./Subdomains/PagesController.html">Subdomains::PagesController</a></li>
        
          <li><a href="./Subdomains/SearchController.html">Subdomains::SearchController</a></li>
        
          <li><a href="./ApplicationController.html">ApplicationController</a></li>
        
          <li><a href="./ApplicationController/Helper.html">ApplicationController::Helper</a></li>
        
          <li><a href="./FileSizeValidator.html">FileSizeValidator</a></li>
        
          <li><a href="./FileSizeValidator/Helper.html">FileSizeValidator::Helper</a></li>
        
          <li><a href="./AccountController.html">AccountController</a></li>
        
          <li><a href="./AcknowledgmentOfAnnouncement.html">AcknowledgmentOfAnnouncement</a></li>
        
          <li><a href="./ActiveProfilesController.html">ActiveProfilesController</a></li>
        
          <li><a href="./Announcement.html">Announcement</a></li>
        
          <li><a href="./AnnouncementAcknowledgementController.html">AnnouncementAcknowledgementController</a></li>
        
          <li><a href="./AnnouncementsController.html">AnnouncementsController</a></li>
        
          <li><a href="./Answer.html">Answer</a></li>
        
          <li><a href="./AnswersController.html">AnswersController</a></li>
        
          <li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
        
          <li><a href="./ApplicationNotifier.html">ApplicationNotifier</a></li>
        
          <li><a href="./AvatarUploader.html">AvatarUploader</a></li>
        
          <li><a href="./BaseCharacter.html">BaseCharacter</a></li>
        
          <li><a href="./BaseCharactersController.html">BaseCharactersController</a></li>
        
          <li><a href="./BaseCharactersHelper.html">BaseCharactersHelper</a></li>
        
          <li><a href="./CharacterProxy.html">CharacterProxy</a></li>
        
          <li><a href="./CheckBoxQuestion.html">CheckBoxQuestion</a></li>
        
          <li><a href="./CheckBoxQuestionsController.html">CheckBoxQuestionsController</a></li>
        
          <li><a href="./ComboBoxQuestion.html">ComboBoxQuestion</a></li>
        
          <li><a href="./ComboBoxQuestionsController.html">ComboBoxQuestionsController</a></li>
        
          <li><a href="./Comment.html">Comment</a></li>
        
          <li><a href="./CommunitiesController.html">CommunitiesController</a></li>
        
          <li><a href="./Community.html">Community</a></li>
        
          <li><a href="./CommunityAnnouncement.html">CommunityAnnouncement</a></li>
        
          <li><a href="./CommunityNameValidator.html">CommunityNameValidator</a></li>
        
          <li><a href="./CommunityObserver.html">CommunityObserver</a></li>
        
          <li><a href="./Discussion.html">Discussion</a></li>
        
          <li><a href="./DiscussionSpace.html">DiscussionSpace</a></li>
        
          <li><a href="./DiscussionsController.html">DiscussionsController</a></li>
        
          <li><a href="./Folder.html">Folder</a></li>
        
          <li><a href="./Game.html">Game</a></li>
        
          <li><a href="./GameAnnouncement.html">GameAnnouncement</a></li>
        
          <li><a href="./GameAnnouncementsController.html">GameAnnouncementsController</a></li>
        
          <li><a href="./GameProfile.html">GameProfile</a></li>
        
          <li><a href="./GameProfilesController.html">GameProfilesController</a></li>
        
          <li><a href="./GamesController.html">GamesController</a></li>
        
          <li><a href="./HomeController.html">HomeController</a></li>
        
          <li><a href="./MailboxController.html">MailboxController</a></li>
        
          <li><a href="./Message.html">Message</a></li>
        
          <li><a href="./MessageCopy.html">MessageCopy</a></li>
        
          <li><a href="./MessagesController.html">MessagesController</a></li>
        
          <li><a href="./Page.html">Page</a></li>
        
          <li><a href="./PageSpace.html">PageSpace</a></li>
        
          <li><a href="./Permission.html">Permission</a></li>
        
          <li><a href="./PredefinedAnswer.html">PredefinedAnswer</a></li>
        
          <li><a href="./Profile.html">Profile</a></li>
        
          <li><a href="./ProfilesController.html">ProfilesController</a></li>
        
          <li><a href="./Question.html">Question</a></li>
        
          <li><a href="./QuestionsController.html">QuestionsController</a></li>
        
          <li><a href="./RadioButtonQuestion.html">RadioButtonQuestion</a></li>
        
          <li><a href="./RadioButtonQuestionsController.html">RadioButtonQuestionsController</a></li>
        
          <li><a href="./RegistrationAnswersController.html">RegistrationAnswersController</a></li>
        
          <li><a href="./RegistrationApplication.html">RegistrationApplication</a></li>
        
          <li><a href="./RegistrationApplicationObserver.html">RegistrationApplicationObserver</a></li>
        
          <li><a href="./RegistrationApplicationsController.html">RegistrationApplicationsController</a></li>
        
          <li><a href="./Role.html">Role</a></li>
        
          <li><a href="./RolesUser.html">RolesUser</a></li>
        
          <li><a href="./SentController.html">SentController</a></li>
        
          <li><a href="./SessionsController.html">SessionsController</a></li>
        
          <li><a href="./SiteAnnouncement.html">SiteAnnouncement</a></li>
        
          <li><a href="./SiteAnnouncementsController.html">SiteAnnouncementsController</a></li>
        
          <li><a href="./SiteForm.html">SiteForm</a></li>
        
          <li><a href="./SiteFormsController.html">SiteFormsController</a></li>
        
          <li><a href="./SmartLoggerHelper.html">SmartLoggerHelper</a></li>
        
          <li><a href="./StatusCodeController.html">StatusCodeController</a></li>
        
          <li><a href="./Subdomain.html">Subdomain</a></li>
        
          <li><a href="./SubdomainsController.html">SubdomainsController</a></li>
        
          <li><a href="./Submission.html">Submission</a></li>
        
          <li><a href="./SubmissionsController.html">SubmissionsController</a></li>
        
          <li><a href="./SupportedGame.html">SupportedGame</a></li>
        
          <li><a href="./Swtor.html">Swtor</a></li>
        
          <li><a href="./SwtorCharacter.html">SwtorCharacter</a></li>
        
          <li><a href="./SwtorCharactersController.html">SwtorCharactersController</a></li>
        
          <li><a href="./SystemResource.html">SystemResource</a></li>
        
          <li><a href="./TextBoxQuestion.html">TextBoxQuestion</a></li>
        
          <li><a href="./TextBoxQuestionsController.html">TextBoxQuestionsController</a></li>
        
          <li><a href="./TextQuestion.html">TextQuestion</a></li>
        
          <li><a href="./TextQuestionsController.html">TextQuestionsController</a></li>
        
          <li><a href="./UrlHelper.html">UrlHelper</a></li>
        
          <li><a href="./User.html">User</a></li>
        
          <li><a href="./UserMailer.html">UserMailer</a></li>
        
          <li><a href="./UserObserver.html">UserObserver</a></li>
        
          <li><a href="./UserProfile.html">UserProfile</a></li>
        
          <li><a href="./UserProfilesController.html">UserProfilesController</a></li>
        
          <li><a href="./Wow.html">Wow</a></li>
        
          <li><a href="./WowCharacter.html">WowCharacter</a></li>
        
          <li><a href="./WowCharactersController.html">WowCharactersController</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Community</h1>

    <div id="description" class="description">
      <table class="rdoc-list"><tr><td class="rdoc-term"><p>Author</p></td>
<td>
<p>DigitalAugment Inc. (<a
href="mailto:info@digitalaugment.com">info@digitalaugment.com</a>)</p>
</td></tr><tr><td class="rdoc-term"><p>Copyright</p></td>
<td>
<p>Copyright © 2011 DigitalAugment Inc.</p>
</td></tr><tr><td class="rdoc-term"><p>License</p></td>
<td>
<p>Proprietary Closed Source</p>
</td></tr></table>

<p>This class represents a community.</p>

    </div><!-- description -->

    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="acceptable_labels-method" class="method-detail ">
          <a name="method-c-acceptable_labels"></a>

          
          <div class="method-heading">
            <span class="method-name">acceptable_labels</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the acceptable labels for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>An array that contains the acceptable labels for a community.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="acceptable_labels-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">acceptable_labels</span>
  <span class="ruby-node">%(Guild Team Clan Faction Squad)</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- acceptable_labels-source -->
            
          </div>

          

          
        </div><!-- acceptable_labels-method -->

      
        <div id="convert_to_subdomain-method" class="method-detail ">
          <a name="method-c-convert_to_subdomain"></a>

          
          <div class="method-heading">
            <span class="method-name">convert_to_subdomain</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method converts the name passed to it into the corrosponding subdomain
representation.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>name</tt> -&gt; The string to convert using the subdomain
transformation.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>A string who is downcased and has spaces and dashes removed.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="convert_to_subdomain-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">convert_to_subdomain</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/[\s\-]/</span>,<span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- convert_to_subdomain-source -->
            
          </div>

          

          
        </div><!-- convert_to_subdomain-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="admin-method" class="method-detail ">
          <a name="method-i-admin"></a>

          
          <div class="method-heading">
            <span class="method-name">admin</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the admin of this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>The user who is the admin of this community.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="admin-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">admin</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">first</span> <span class="ruby-comment">#TODO might want to get a better way of doing this.</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- admin-source -->
            
          </div>

          

          
        </div><!-- admin-method -->

      
        <div id="all_users-method" class="method-detail ">
          <a name="method-i-all_users"></a>

          
          <div class="method-heading">
            <span class="method-name">all_users</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets all users for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>An array that contains all of the users in this community.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="all_users-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_users</span>
  <span class="ruby-identifier">users</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">users</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>.<span class="ruby-identifier">users</span>
  <span class="ruby-identifier">users</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">applicant_role</span>.<span class="ruby-identifier">users</span>
  <span class="ruby-identifier">users</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">member_role</span>.<span class="ruby-identifier">users</span>
  <span class="ruby-identifier">users</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">roles</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">role</span><span class="ruby-operator">|</span> <span class="ruby-identifier">role</span>.<span class="ruby-identifier">users</span>}
  <span class="ruby-identifier">users</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- all_users-source -->
            
          </div>

          

          
        </div><!-- all_users-method -->

      
        <div id="assign_admin_role-method" class="method-detail ">
          <a name="method-i-assign_admin_role"></a>

          
          <div class="method-heading">
            <span class="method-name">assign_admin_role</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method assigns this community’s admin role to the specified user.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>user</tt> -&gt; The user to assign admin role to.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>False if the operation could not be preformed, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="assign_admin_role-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assign_admin_role</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">member_role</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">member_role</span>)
  <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- assign_admin_role-source -->
            
          </div>

          

          
        </div><!-- assign_admin_role-method -->

      
        <div id="check_user_create_permissions-method" class="method-detail ">
          <a name="method-i-check_user_create_permissions"></a>

          
          <div class="method-heading">
            <span class="method-name">check_user_create_permissions</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method defines how create permissions are determined for this
community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>user</tt> -&gt; The user who you would like to check.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>True if the provided user can create this community, otherwise false.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="check_user_create_permissions-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_user_create_permissions</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- check_user_create_permissions-source -->
            
          </div>

          

          
        </div><!-- check_user_create_permissions-method -->

      
        <div id="check_user_delete_permissions-method" class="method-detail ">
          <a name="method-i-check_user_delete_permissions"></a>

          
          <div class="method-heading">
            <span class="method-name">check_user_delete_permissions</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method defines how delete permissions are determined for this
community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>user</tt> -&gt; The user who you would like to check.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>True if the provided user can show this community, otherwise false.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="check_user_delete_permissions-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_user_delete_permissions</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">user</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- check_user_delete_permissions-source -->
            
          </div>

          

          
        </div><!-- check_user_delete_permissions-method -->

      
        <div id="check_user_show_permissions-method" class="method-detail ">
          <a name="method-i-check_user_show_permissions"></a>

          
          <div class="method-heading">
            <span class="method-name">check_user_show_permissions</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method defines how show permissions are determined for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>user</tt> -&gt; The user who you would like to check.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>True if the provided user can show this community, otherwise false.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="check_user_show_permissions-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_user_show_permissions</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- check_user_show_permissions-source -->
            
          </div>

          

          
        </div><!-- check_user_show_permissions-method -->

      
        <div id="check_user_update_permissions-method" class="method-detail ">
          <a name="method-i-check_user_update_permissions"></a>

          
          <div class="method-heading">
            <span class="method-name">check_user_update_permissions</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method defines how update permissions are determined for this
community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>user</tt> -&gt; The user who you would like to check.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>True if the provided user can update this community, otherwise false.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="check_user_update_permissions-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_user_update_permissions</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin_role</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">user</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- check_user_update_permissions-source -->
            
          </div>

          

          
        </div><!-- check_user_update_permissions-method -->

      
        <div id="display_name-method" class="method-detail ">
          <a name="method-i-display_name"></a>

          
          <div class="method-heading">
            <span class="method-name">display_name</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the display name for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>The string that has this community’s name followed by this community’s
label.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="display_name-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">display_name</span>
  <span class="ruby-comment"># &quot;#{self.name} #{self.label}&quot;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- display_name-source -->
            
          </div>

          

          
        </div><!-- display_name-method -->

      
        <div id="get_characters_for_game-method" class="method-detail ">
          <a name="method-i-get_characters_for_game"></a>

          
          <div class="method-heading">
            <span class="method-name">get_characters_for_game</span><span
              class="method-args">(game)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets all of the characters from all of the users this
community, scoped by the specified game.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>game</tt> -&gt; The game that the characters are a part of.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains all the character who are part of the specified
game.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="get_characters_for_game-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_characters_for_game</span>(<span class="ruby-identifier">game</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">all_users</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> 
     <span class="ruby-identifier">user</span>.<span class="ruby-identifier">get_characters</span>(<span class="ruby-identifier">game</span>)
  }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_characters_for_game-source -->
            
          </div>

          

          
        </div><!-- get_characters_for_game-method -->

      
        <div id="leader_profile-method" class="method-detail ">
          <a name="method-i-leader_profile"></a>

          
          <div class="method-heading">
            <span class="method-name">leader_profile</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the user profile of the admin for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>The user_profile of the user who has the admin role for this community.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="leader_profile-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">leader_profile</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">admin</span>.<span class="ruby-identifier">user_profile</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- leader_profile-source -->
            
          </div>

          

          
        </div><!-- leader_profile-method -->

      
        <div id="recent_comments-method" class="method-detail ">
          <a name="method-i-recent_comments"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_comments</span><span
              class="method-args">(number_of_comments=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent comments for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_comments</tt> -&gt; The maximum number of comments to be
returned. This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent comments.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_comments-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_comments</span>(<span class="ruby-identifier">number_of_comments</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">cID</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-constant">Comment</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">community_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cID</span>}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_comments</span>) 
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_comments-source -->
            
          </div>

          

          
        </div><!-- recent_comments-method -->

      
        <div id="recent_discussion_spaces-method" class="method-detail ">
          <a name="method-i-recent_discussion_spaces"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_discussion_spaces</span><span
              class="method-args">(number_of_discussion_spaces=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent discussion spaces for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_discussion_spaces</tt> -&gt; The maximum number of discussion
spaces to be returned. This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent discussion spaces.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_discussion_spaces-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_discussion_spaces</span>(<span class="ruby-identifier">number_of_discussion_spaces</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">cID</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-constant">DiscussionSpace</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">community_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cID</span>}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_discussion_spaces</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_discussion_spaces-source -->
            
          </div>

          

          
        </div><!-- recent_discussion_spaces-method -->

      
        <div id="recent_discussions-method" class="method-detail ">
          <a name="method-i-recent_discussions"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_discussions</span><span
              class="method-args">(number_of_discussions=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent discussions for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_discussions</tt> -&gt; The maximum number of discussions to
be returned. This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent discussions.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_discussions-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_discussions</span>(<span class="ruby-identifier">number_of_discussions</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">cID</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">my_disc_spaces</span> = <span class="ruby-constant">DiscussionSpace</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">community_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cID</span>}
  <span class="ruby-constant">Discussion</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">discussion_space_id</span>.<span class="ruby-identifier">in</span>(<span class="ruby-identifier">my_disc_spaces</span>.<span class="ruby-identifier">select</span>{<span class="ruby-identifier">id</span>})}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_discussions</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_discussions-source -->
            
          </div>

          

          
        </div><!-- recent_discussions-method -->

      
        <div id="recent_members-method" class="method-detail ">
          <a name="method-i-recent_members"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_members</span><span
              class="method-args">(number_of_members=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent members for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_members</tt> -&gt; The maximum number of members to be
returned. This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent users (members).</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_members-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_members</span>(<span class="ruby-identifier">number_of_members</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">member_role_id</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">member_role</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-constant">User</span>.<span class="ruby-identifier">joins</span>{<span class="ruby-identifier">roles_users</span>.<span class="ruby-identifier">user</span>}.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">roles_users</span>.<span class="ruby-identifier">role_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">member_role_id</span>}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">roles_users</span>.<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_members</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_members-source -->
            
          </div>

          

          
        </div><!-- recent_members-method -->

      
        <div id="recent_page_spaces-method" class="method-detail ">
          <a name="method-i-recent_page_spaces"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_page_spaces</span><span
              class="method-args">(number_of_page_spaces=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent page spaces for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_page_spaces</tt> -&gt; The maximum number of page spaces to
be returned. This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent page spaces.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_page_spaces-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_page_spaces</span>(<span class="ruby-identifier">number_of_page_spaces</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">cID</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-constant">PageSpace</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">community_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cID</span>}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_page_spaces</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_page_spaces-source -->
            
          </div>

          

          
        </div><!-- recent_page_spaces-method -->

      
        <div id="recent_pages-method" class="method-detail ">
          <a name="method-i-recent_pages"></a>

          
          <div class="method-heading">
            <span class="method-name">recent_pages</span><span
              class="method-args">(number_of_pages=10)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method gets the recent pages for this community.</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>number_of_pages</tt> -&gt; The maximum number of pages to be returned.
This defaults to 10.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>An array that contains the most recent pages.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="recent_pages-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_pages</span>(<span class="ruby-identifier">number_of_pages</span>=<span class="ruby-value">10</span>)
  <span class="ruby-identifier">cID</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>
  <span class="ruby-identifier">my_page_spaces</span> = <span class="ruby-constant">PageSpace</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">community_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cID</span>}
  <span class="ruby-constant">Page</span>.<span class="ruby-identifier">where</span>{<span class="ruby-identifier">page_space_id</span>.<span class="ruby-identifier">in</span>(<span class="ruby-identifier">my_page_spaces</span>.<span class="ruby-identifier">select</span>{<span class="ruby-identifier">id</span>})}.<span class="ruby-identifier">order</span>{<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">desc</span>}.<span class="ruby-identifier">limit</span>(<span class="ruby-identifier">number_of_pages</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- recent_pages-source -->
            
          </div>

          

          
        </div><!-- recent_pages-method -->

      
        <div id="setup_admin_role-method" class="method-detail ">
          <a name="method-i-setup_admin_role"></a>

          
          <div class="method-heading">
            <span class="method-name">setup_admin_role</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><em>after_create</em></p>

<p>This method sets up the admin role for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>False if there was an error, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="setup_admin_role-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_admin_role</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-value">:admin_role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Role</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Admin&quot;</span>, 
    <span class="ruby-value">:permissions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SystemResource</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">resource</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">Permission</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:permissionable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">resource</span>, 
        <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Full Access #{resource.name}&quot;</span>, 
        <span class="ruby-value">:show_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
        <span class="ruby-value">:create_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
        <span class="ruby-value">:update_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
        <span class="ruby-value">:delete_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
        <span class="ruby-value">:access</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">resource</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Discussion&quot;</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Comment&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;lock&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>)
      )
    },
    <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>,
    <span class="ruby-value">:community</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>
  ))
<span class="ruby-keyword">end</span></pre>
            </div><!-- setup_admin_role-source -->
            
          </div>

          

          
        </div><!-- setup_admin_role-method -->

      
        <div id="setup_applicant_role-method" class="method-detail ">
          <a name="method-i-setup_applicant_role"></a>

          
          <div class="method-heading">
            <span class="method-name">setup_applicant_role</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><em>after_create</em></p>

<p>This method sets up the default applicant role for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>False if there was an error, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="setup_applicant_role-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_applicant_role</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-value">:applicant_role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Role</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Applicant&quot;</span>,
    <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>,
    <span class="ruby-value">:community</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>
  ))
<span class="ruby-keyword">end</span></pre>
            </div><!-- setup_applicant_role-source -->
            
          </div>

          

          
        </div><!-- setup_applicant_role-method -->

      
        <div id="setup_application_form-method" class="method-detail ">
          <a name="method-i-setup_application_form"></a>

          
          <div class="method-heading">
            <span class="method-name">setup_application_form</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><em>after_create</em></p>

<p>This method sets up the default applicant form for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>False if there was an error, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="setup_application_form-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_application_form</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-value">:community_application_form</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SiteForm</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Registration Application Form&quot;</span>, 
    <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Please fill out the form to apply for #{self.label}.&quot;</span>, 
    <span class="ruby-value">:thankyou</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Thank you for submitting your application.&quot;</span>, 
    <span class="ruby-value">:published</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
    <span class="ruby-value">:community</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>))
<span class="ruby-keyword">end</span></pre>
            </div><!-- setup_application_form-source -->
            
          </div>

          

          
        </div><!-- setup_application_form-method -->

      
        <div id="setup_member_role-method" class="method-detail ">
          <a name="method-i-setup_member_role"></a>

          
          <div class="method-heading">
            <span class="method-name">setup_member_role</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><em>after_create</em></p>

<p>This method sets up the default member role for this community.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>False if there was an error, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="setup_member_role-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup_member_role</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-value">:member_role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Role</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Member&quot;</span>,
  <span class="ruby-value">:permissions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SystemResource</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">resource</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">Permission</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:permissionable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">resource</span>, 
        <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;View Access #{resource.name}&quot;</span>, 
        <span class="ruby-value">:show_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, 
        <span class="ruby-value">:create_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, 
        <span class="ruby-value">:update_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, 
        <span class="ruby-value">:delete_p</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
      ) 
      <span class="ruby-comment">#Remove Registration application</span>
    },
    <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>,
    <span class="ruby-value">:community</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>
  ))
<span class="ruby-keyword">end</span></pre>
            </div><!-- setup_member_role-source -->
            
          </div>

          

          
        </div><!-- setup_member_role-method -->

      
        <div id="update_subdomain-method" class="method-detail ">
          <a name="method-i-update_subdomain"></a>

          
          <div class="method-heading">
            <span class="method-name">update_subdomain</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p><em>before_save</em></p>

<p>This method automatically updates this community’s subdomain from this
community’s name.</p>
<dl class="rdoc-list"><dt>Returns</dt>
<dd>
<p>False if an error occured, otherwise true.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="update_subdomain-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_subdomain</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">subdomain</span> = <span class="ruby-constant">Community</span>.<span class="ruby-identifier">convert_to_subdomain</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- update_subdomain-source -->
            
          </div>

          

          
        </div><!-- update_subdomain-method -->

      
        <div id="upgrade_applicant_to_member-method" class="method-detail ">
          <a name="method-i-upgrade_applicant_to_member"></a>

          
          <div class="method-heading">
            <span class="method-name">upgrade_applicant_to_member</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>This method upgrades the specified user to .</p>
<dl class="rdoc-list"><dt>Args</dt>
<dd><ul><li>
<p><tt>name</tt> -&gt; The string to convert using the subdomain
transformation.</p>
</li></ul>
</dd><dt>Returns</dt>
<dd>
<p>A string who is downcased and has spaces and dashes removed.</p>
</dd></dl>
            

            
            <div class="method-source-code" id="upgrade_applicant_to_member-source">
<pre>
<span class="ruby-comment"># File app/models/community.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">upgrade_applicant_to_member</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span>.<span class="ruby-identifier">includes?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">applicant_role</span>)
  <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">applicant_role</span>)
  <span class="ruby-identifier">user</span>.<span class="ruby-identifier">roles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">member_role</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- upgrade_applicant_to_member-source -->
            
          </div>

          

          
        </div><!-- upgrade_applicant_to_member-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

